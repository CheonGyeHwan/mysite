<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="board">

	<select id="boardTotalCount" parameterType="String" resultType="long">
		<choose>
			<when test="_parameter == null || _parameter == ''">
				<![CDATA[
					SELECT COUNT(*)
					  FROM board a
				INNER JOIN user b
						ON a.user_no = b.no
				]]>
			</when>
			<otherwise>
				<![CDATA[
					SELECT COUNT(*)
					  FROM board a
				INNER JOIN user b
						ON a.user_no = b.no
					 WHERE a.title LIKE "%${_parameter }%"
						OR a.contents LIKE "%${_parameter }%"
						OR b.name LIKE "%${_parameter }%"
				]]>
			</otherwise>
		</choose>
	</select>

</mapper>